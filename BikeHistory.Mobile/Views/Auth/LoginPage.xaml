<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="BikeHistory.Mobile.Views.Auth.LoginPage"
             xmlns:viewmodel="clr-namespace:BikeHistory.Mobile.ViewModels"
             x:DataType="viewmodel:LoginViewModel"
             Title="ë¡œê·¸ì¸"
             Shell.NavBarIsVisible="False"
             BackgroundColor="Transparent">

    <ContentPage.Resources>
        <ResourceDictionary>
            <!-- ì—”íŠ¸ë¦¬ ìŠ¤íƒ€ì¼ -->
            <Style x:Key="ModernEntryStyle" TargetType="Entry">
                <Setter Property="BackgroundColor" Value="Transparent"/>
                <Setter Property="TextColor" Value="White"/>
                <Setter Property="PlaceholderColor" Value="#B0FFFFFF"/>
                <Setter Property="FontSize" Value="16"/>
                <Setter Property="HeightRequest" Value="50"/>
                <Setter Property="Margin" Value="0,10"/>
            </Style>

            <!-- ë©”ì¸ ë²„íŠ¼ ìŠ¤íƒ€ì¼ -->
            <Style x:Key="PrimaryButtonStyle" TargetType="Button">
                <Setter Property="BackgroundColor" Value="#4CAF50"/>
                <Setter Property="TextColor" Value="White"/>
                <Setter Property="FontSize" Value="18"/>
                <Setter Property="FontAttributes" Value="Bold"/>
                <Setter Property="HeightRequest" Value="55"/>
                <Setter Property="CornerRadius" Value="25"/>
                <Setter Property="Margin" Value="0,20,0,10"/>
            </Style>

            <!-- í…ìŠ¤íŠ¸ ë²„íŠ¼ ìŠ¤íƒ€ì¼ -->
            <Style x:Key="TextButtonStyle" TargetType="Button">
                <Setter Property="BackgroundColor" Value="Transparent"/>
                <Setter Property="TextColor" Value="#81C784"/>
                <Setter Property="FontSize" Value="16"/>
                <Setter Property="BorderWidth" Value="0"/>
            </Style>

            <!-- ì—ëŸ¬ ë ˆì´ë¸” ìŠ¤íƒ€ì¼ -->
            <Style x:Key="ErrorLabelStyle" TargetType="Label">
                <Setter Property="TextColor" Value="#FF5252"/>
                <Setter Property="FontSize" Value="14"/>
                <Setter Property="HorizontalOptions" Value="Center"/>
                <Setter Property="Margin" Value="0,10"/>
            </Style>
        </ResourceDictionary>
    </ContentPage.Resources>

    <!-- ë©”ì¸ ì»¨í…Œì´ë„ˆ -->
    <Grid>
        <!-- ìžì „ê±° í…Œë§ˆ ê·¸ë¼ë°ì´ì…˜ ë°°ê²½ -->
        <Rectangle>
            <Rectangle.Fill>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                    <GradientStop Color="#2E7D32" Offset="0.0"/>
                    <GradientStop Color="#388E3C" Offset="0.5"/>
                    <GradientStop Color="#4CAF50" Offset="1.0"/>
                </LinearGradientBrush>
            </Rectangle.Fill>
        </Rectangle>

        <!-- ë°°ê²½ ìž¥ì‹ ì›ë“¤ -->
        <Ellipse WidthRequest="250" HeightRequest="250"
                 Fill="#20FFFFFF"
                 HorizontalOptions="Start" VerticalOptions="Start"
                 Margin="-125,-75,0,0"/>

        <Ellipse WidthRequest="180" HeightRequest="180"
                 Fill="#15FFFFFF"
                 HorizontalOptions="End" VerticalOptions="End"
                 Margin="0,0,-90,-90"/>

        <!-- ë©”ì¸ ì½˜í…ì¸  -->
        <ScrollView>
            <StackLayout Padding="40,60,40,40" Spacing="0">

                <!-- ë¡œê³  ë° íƒ€ì´í‹€ ì„¹ì…˜ -->
                <StackLayout Spacing="15" Margin="0,0,0,50">
                    <!-- ìžì „ê±° ë¡œê³  -->
                    <Border BackgroundColor="#30FFFFFF"
                            WidthRequest="100" HeightRequest="100"
                            StrokeShape="RoundRectangle 50"
                            HorizontalOptions="Center">
                        <Grid>
                            <!-- ë¡œê³  ì´ë¯¸ì§€ê°€ ìžˆë‹¤ë©´ -->
                            <Image Source="logo.png" 
                                   WidthRequest="60" HeightRequest="60"
                                   HorizontalOptions="Center" VerticalOptions="Center"
                                   IsVisible="True"/>
                            <!-- ë¡œê³  ì´ë¯¸ì§€ê°€ ì—†ë‹¤ë©´ ìžì „ê±° ì´ëª¨ì§€ -->
                            <Label Text="ðŸš´â€â™‚ï¸" FontSize="50" 
                                   HorizontalOptions="Center" VerticalOptions="Center"
                                   IsVisible="False"/>
                        </Grid>
                    </Border>

                    <Label Text="ìžì „ê±° ì´ë ¥ ê´€ë¦¬" 
                           FontSize="28" FontAttributes="Bold" 
                           TextColor="White" HorizontalOptions="Center"/>

                    <Label Text="ë‚˜ë§Œì˜ ìžì „ê±° ê´€ë¦¬ ì‹œìŠ¤í…œ" 
                           FontSize="16" TextColor="#B0FFFFFF" 
                           HorizontalOptions="Center"/>
                </StackLayout>

                <!-- ë¡œê·¸ì¸ í¼ -->
                <Border BackgroundColor="#25FFFFFF"
                        StrokeShape="RoundRectangle 20"
                        StrokeThickness="1"
                        Stroke="#40FFFFFF"
                        Padding="30,40">

                    <StackLayout Spacing="0">
                        <!-- ì´ë©”ì¼ ìž…ë ¥ -->
                        <Label Text="ì´ë©”ì¼" TextColor="#B0FFFFFF" FontSize="14" Margin="0,0,0,5"/>
                        <Border BackgroundColor="#20FFFFFF"
                                StrokeShape="RoundRectangle 12"
                                StrokeThickness="1"
                                Stroke="#40FFFFFF">
                            <Entry Placeholder="ì´ë©”ì¼ì„ ìž…ë ¥í•˜ì„¸ìš”"
                                   Text="{Binding Email}"
                                   Keyboard="Email"
                                   Style="{StaticResource ModernEntryStyle}"
                                   Margin="15,0"/>
                        </Border>

                        <!-- ë¹„ë°€ë²ˆí˜¸ ìž…ë ¥ -->
                        <Label Text="ë¹„ë°€ë²ˆí˜¸" TextColor="#B0FFFFFF" FontSize="14" Margin="0,20,0,5"/>
                        <Border BackgroundColor="#20FFFFFF"
                                StrokeShape="RoundRectangle 12"
                                StrokeThickness="1"
                                Stroke="#40FFFFFF">
                            <Entry Placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ìž…ë ¥í•˜ì„¸ìš”"
                                   Text="{Binding Password}"
                                   IsPassword="True"
                                   Style="{StaticResource ModernEntryStyle}"
                                   Margin="15,0"/>
                        </Border>

                        <!-- ì—ëŸ¬ ë©”ì‹œì§€ -->
                        <Label Text="{Binding ErrorMessage}"
                               Style="{StaticResource ErrorLabelStyle}"
                               IsVisible="{Binding ErrorMessage, Converter={StaticResource StringToBoolConverter}}"
                               Margin="0,15,0,0"/>

                        <!-- ë¡œê·¸ì¸ ë²„íŠ¼ -->
                        <Button Text="ë¡œê·¸ì¸"
                                Command="{Binding LoginCommand}"
                                IsEnabled="{Binding IsBusy, Converter={StaticResource InverseBoolConverter}}"
                                Style="{StaticResource PrimaryButtonStyle}">
                            <Button.Shadow>
                                <Shadow Brush="#40000000" Offset="0,4" Radius="8" Opacity="0.3"/>
                            </Button.Shadow>
                        </Button>

                        <!-- ë¡œë”© ì¸ë””ì¼€ì´í„° -->
                        <ActivityIndicator IsRunning="{Binding IsBusy}"
                                          IsVisible="{Binding IsBusy}"
                                          Color="White"
                                          Scale="1.2"
                                          HorizontalOptions="Center"
                                          Margin="0,10"/>
                    </StackLayout>
                </Border>

                <!-- ì¶”ê°€ ì˜µì…˜ë“¤ -->
                <StackLayout Margin="0,30,0,0" Spacing="20">
                    <!-- ìžë™ ë¡œê·¸ì¸ ì˜µì…˜ (í•„ìš”ì‹œ) -->
                    <StackLayout Orientation="Horizontal" 
                                HorizontalOptions="Center" 
                                Spacing="10"
                                IsVisible="False">
                        <CheckBox Color="#4CAF50"/>
                        <Label Text="ìžë™ ë¡œê·¸ì¸" 
                               TextColor="#B0FFFFFF" FontSize="14"
                               VerticalOptions="Center"/>
                    </StackLayout>

                    <!-- ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸° (í•„ìš”ì‹œ) -->
                    <Label Text="ë¹„ë°€ë²ˆí˜¸ë¥¼ ìžŠìœ¼ì…¨ë‚˜ìš”?" 
                           TextColor="#81C784" FontSize="14"
                           HorizontalOptions="Center"
                           IsVisible="False">
                        <Label.GestureRecognizers>
                            <TapGestureRecognizer/>
                        </Label.GestureRecognizers>
                    </Label>
                </StackLayout>

                <!-- íšŒì›ê°€ìž… ë²„íŠ¼ -->
                <StackLayout Orientation="Horizontal" 
                            HorizontalOptions="Center" 
                            Margin="0,40,0,0">
                    <Label Text="ê³„ì •ì´ ì—†ìœ¼ì‹ ê°€ìš”? " 
                           TextColor="#B0FFFFFF" FontSize="16"
                           VerticalOptions="Center"/>
                    <Button Text="íšŒì›ê°€ìž…"
                            Command="{Binding GoToRegisterCommand}"
                            Style="{StaticResource TextButtonStyle}"
                            Padding="5,0"/>
                </StackLayout>

                <!-- ìžì „ê±° ê´€ë ¨ í¬ì¸íŠ¸ -->
                <StackLayout Margin="0,40,0,0" Spacing="15">
                    <Label Text="BikeHistoryì™€ í•¨ê»˜" 
                           TextColor="#B0FFFFFF" FontSize="14" 
                           HorizontalOptions="Center"/>

                    <Grid ColumnDefinitions="*,*,*" ColumnSpacing="20">
                        <!-- ê¸°ëŠ¥ 1 -->
                        <StackLayout Grid.Column="0" Spacing="5">
                            <Label Text="ðŸ”§" FontSize="24" HorizontalOptions="Center"/>
                            <Label Text="ì •ë¹„ ê¸°ë¡" 
                                   TextColor="#B0FFFFFF" FontSize="12" 
                                   HorizontalOptions="Center"/>
                        </StackLayout>

                        <!-- ê¸°ëŠ¥ 2 -->
                        <StackLayout Grid.Column="1" Spacing="5">
                            <Label Text="ðŸ“Š" FontSize="24" HorizontalOptions="Center"/>
                            <Label Text="ì£¼í–‰ í†µê³„" 
                                   TextColor="#B0FFFFFF" FontSize="12" 
                                   HorizontalOptions="Center"/>
                        </StackLayout>

                        <!-- ê¸°ëŠ¥ 3 -->
                        <StackLayout Grid.Column="2" Spacing="5">
                            <Label Text="ðŸ“±" FontSize="24" HorizontalOptions="Center"/>
                            <Label Text="ê°„íŽ¸ ê´€ë¦¬" 
                                   TextColor="#B0FFFFFF" FontSize="12" 
                                   HorizontalOptions="Center"/>
                        </StackLayout>
                    </Grid>
                </StackLayout>

                <!-- í•˜ë‹¨ ì—¬ë°± -->
                <BoxView HeightRequest="40" BackgroundColor="Transparent"/>
            </StackLayout>
        </ScrollView>
    </Grid>
</ContentPage>